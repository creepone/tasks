!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a,b){return e(a).nodeify(b)}var e=a("./q"),f=c;f.makeNodeResolver=function(a){return function(b,c){b?a(e.reject(b)):arguments.length>2?a(Array.prototype.slice.call(arguments,1)):a(c)}},f.nfapply=function(a,b){var c=e.defer(),d=Array.prototype.slice.call(b);return d.push(f.makeNodeResolver(c.resolve)),e(a).fapply(d).catch(c.reject),c.promise},f.nfcall=function(a){var b=Array.prototype.slice.call(arguments,1);return f.nfapply(a,b)},f.nfbind=f.denodeify=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=b.concat(Array.prototype.slice.call(arguments)),d=e.defer();return c.push(f.makeNodeResolver(d.resolve)),e(a).fapply(c).catch(d.reject),d.promise}},f.nbind=function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){function d(){return a.apply(b,arguments)}var g=c.concat(Array.prototype.slice.call(arguments)),h=e.defer();return g.push(f.makeNodeResolver(h.resolve)),e(d).fapply(g).catch(h.reject),h.promise}},f.npost=function(a,b,c){var d=e.defer();return c.push(f.makeNodeResolver(d.resolve)),e(a).dispatch("post",[b,c]).catch(d.reject),d.promise},f.ninvoke=function(a,b){var c=Array.prototype.slice.call(arguments,2),d=e.defer();return c.push(f.makeNodeResolver(d.resolve)),e(a).dispatch("post",[b,c]).catch(d.reject),d.promise},f.nodeify=d},{"./q":4}],2:[function(a,b){function c(){for(;e.next;){e=e.next;var a=e.task;e.task=void 0;var b=e.domain;b&&(e.domain=void 0,b.enter());try{a()}catch(d){if(i)throw b&&b.exit(),setTimeout(c,0),b&&b.enter(),d;setTimeout(function(){throw d},0)}b&&b.exit()}g=!1}function d(a){f=f.next={task:a,domain:i&&process.domain,next:null},g||(g=!0,h())}var e={task:void 0,next:null},f=e,g=!1,h=void 0,i=!1;if("undefined"!=typeof process&&process.nextTick)i=!0,h=function(){process.nextTick(c)};else if("function"==typeof setImmediate)h="undefined"!=typeof window?setImmediate.bind(window,c):function(){setImmediate(c)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel;j.port1.onmessage=c,h=function(){j.port2.postMessage(0)}}else h=function(){setTimeout(c,0)};b.exports=d},{}],3:[function(a,b){!function(){"use strict";function a(b){b.permitHostObjects___&&b.permitHostObjects___(a)}function c(a){return!(a.substr(0,j.length)==j&&"___"===a.substr(a.length-3))}function d(a){if(a!==Object(a))throw new TypeError("Not an object: "+a);var b=a[k];if(b&&b.key===a)return b;if(!i(a))return void 0;var c=[],d=[];return b={key:a,gets:c,vals:d},h(a,k,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}function e(a){return a.prototype=null,Object.freeze(a)}if("undefined"==typeof ses||!ses.ok||ses.ok()){if("undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=a),"function"==typeof WeakMap){var f=WeakMap;if("undefined"==typeof navigator||!/Firefox/.test(navigator.userAgent))return b.exports=WeakMap,void 0}Object.prototype.hasOwnProperty;var g=Object.getOwnPropertyNames,h=Object.defineProperty,i=Object.isExtensible,j="weakmap:",k=j+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var l=new ArrayBuffer(25),m=new Uint8Array(l);crypto.getRandomValues(m),k=j+"rand:"+Array.prototype.map.call(m,function(a){return(a%36).toString(36)}).join("")+"___"}if(h(Object,"getOwnPropertyNames",{value:function(a){return g(a).filter(c)}}),"getPropertyNames"in Object){var n=Object.getPropertyNames;h(Object,"getPropertyNames",{value:function(a){return n(a).filter(c)}})}!function(){var a=Object.freeze;h(Object,"freeze",{value:function(b){return d(b),a(b)}});var b=Object.seal;h(Object,"seal",{value:function(a){return d(a),b(a)}});var c=Object.preventExtensions;h(Object,"preventExtensions",{value:function(a){return d(a),c(a)}})}();var o=function(){function a(b,c){var e,f,i=d(b);return i?(e=i.gets.indexOf(a),f=i.vals):(e=g.indexOf(b),f=h),e>=0?f[e]:c}function b(b){var c,e=d(b);return c=e?e.gets.indexOf(a):g.indexOf(b),c>=0}function c(b,c){var e,f=d(b);f?(e=f.gets.indexOf(a),e>=0?f.vals[e]=c:(f.gets.push(a),f.vals.push(c))):(e=g.indexOf(b),e>=0?h[e]=c:(g.push(b),h.push(c)))}function f(b){var c,e=d(b);return e?(c=e.gets.indexOf(a),c>=0&&(e.gets.splice(c,1),e.vals.splice(c,1))):(c=g.indexOf(b),c>=0&&(g.splice(c,1),h.splice(c,1))),!0}var g=[],h=[];return Object.create(o.prototype,{get___:{value:e(a)},has___:{value:e(b)},set___:{value:e(c)},delete___:{value:e(f)}})};o.prototype=Object.create(Object.prototype,{get:{value:function(a,b){return this.get___(a,b)},writable:!0,configurable:!0},has:{value:function(a){return this.has___(a)},writable:!0,configurable:!0},set:{value:function(a,b){this.set___(a,b)},writable:!0,configurable:!0},"delete":{value:function(a){return this.delete___(a)},writable:!0,configurable:!0}}),"function"==typeof f?!function(){function c(){function b(a,b){return i?h.has(a)?h.get(a):i.get___(a,b):h.get(a,b)}function c(a){return h.has(a)||(i?i.has___(a):!1)}function d(a,b){if(j)try{h.set(a,b)}catch(c){i||(i=new o),i.set___(a,b)}else h.set(a,b)}function g(a){h["delete"](a),i&&i.delete___(a)}var h=new f,i=void 0,j=!1;return Object.create(o.prototype,{get___:{value:e(b)},has___:{value:e(c)},set___:{value:e(d)},delete___:{value:e(g)},permitHostObjects___:{value:e(function(b){if(b!==a)throw new Error("bogus call to permitHostObjects___");j=!0})}})}c.prototype=o.prototype,b.exports=c,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),b.exports=o)}}()},{}],4:[function(a,b){"use strict";function c(a){return a===Object(a)}function d(a,b){if(J&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(P)){for(var c=[],d=b;d&&Q.get(d);d=Q.get(d).became)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var f=c.join("\n"+P+"\n");a.stack=e(f)}}function e(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];h(e)||f(e)||!e||c.push(e)}return c.join("\n")}function f(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function g(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function h(a){var b=g(a);if(!b)return!1;var c=b[0],d=b[1];return c===L&&d>=M&&Z>=d}function i(){if(J)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=g(c);if(!d)return;return L=d[0],d[1]}}function j(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(this,arguments)}}function k(a){var b=Q.get(a);return b&&b.became?(b=l(b),Q.set(a,b),b):b}function l(a){return a.became?(a.became=l(a.became),a.became):a}function m(a){return x(a)?a:y(a)?(U.has(a)||U.set(a,new w(new D(a))),U.get(a)):new w(new A(a))}function n(a){return new w(new B(a))}function o(){var a=new C,b=new w(a),c=new z(b);if(m.longStackSupport&&J)try{throw new Error}catch(d){b.stack=d.stack.substring(d.stack.indexOf("\n")+1)}return c}function p(a){var b=0,c=o();return Array.prototype.forEach.call(a,function(d,e){var f;x(d)&&"fulfilled"===(f=d.inspect()).state?a[e]=f.value:(++b,m(d).then(function(d){a[e]=d,0===--b&&c.resolve(a)},c.reject,function(a){c.notify({index:e,value:a})}))}),0===b&&c.resolve(a),c.promise}function q(a){return m(a).allSettled()}function r(a,b,c){return m(a).spread(b,c)}function s(a){return new w(function(b){a.forEach(function(a){m(a).then(b.resolve,b.reject)})})}function t(a){return function(){function b(a,b){var f;try{f=c[a](b)}catch(g){return n(g)}return f.done?f.value:m(f.value).then(d,e)}var c=a.apply(this,arguments),d=b.bind(b,"next"),e=b.bind(b,"throw");return d()}}function u(a){m.async(a)().done()}function v(a){return function(){return r([this,p(arguments)],function(b,c){return a.apply(b,c)})}}function w(a){if(!(this instanceof w))return new w(a);if("function"==typeof a){var b=a,c=o();a=k(c.promise);try{b(c)}catch(d){c.reject(d)}}Q.set(this,a)}function x(a){return c(a)&&!!Q.get(a)}function y(a){return c(a)&&"function"==typeof a.then}function z(a){this.promise=a,Q.set(this,k(a)),this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),this.notify=this.notify.bind(this)}function A(a){this.value=a}function B(a){this.reason=a,H(this,a)}function C(){this.messages=[],this.progressListeners=[]}function D(a){this.thenable=a,this.became=null}function E(){X||"undefined"==typeof window||window.Touch||!window.console||console.warn("[Q] Unhandled rejection reasons (should be empty):",V),X=!0}function F(){for(var a=0;a<V.length;a++){var b=V[a];console.warn("Unhandled rejection reason:",b)}}function G(){V.length=0,W.length=0,X=!1,Y||(Y=!0,"undefined"!=typeof process&&process.on&&process.on("exit",F))}function H(a,b){Y&&(W.push(a),b&&"undefined"!=typeof b.stack?V.push(b.stack):V.push("(no stack) "+b),E())}function I(a){if(Y){var b=W.indexOf(a);-1!==b&&(W.splice(b,1),V.splice(b,1))}}var J=!1;try{throw new Error}catch(K){J=!!K.stack}var L,M=i(),N=a("asap"),O=a("weak-map"),P="From previous event:",Q=new O,R=new Error("Can't resolve a promise with itself"),S=n(R),T=k(S),U=new O;b.exports=m,m.longStackSupport=!1,m.reject=n,m.defer=o,m.all=p,m.allSettled=q,m.delay=function(a,b){return void 0===b&&(b=a,a=void 0),m(a).delay(b)},m.timeout=function(a,b,c){return m(a).timeout(b,c)},m.spread=r,m.join=function(a,b){return m.spread([a,b],function(a,b){if(a===b)return a;throw new Error("Can't join: not the same: "+a+" "+b)})},m.race=s,m["try"]=function(a){return m(a).dispatch("post",[void 0,[]])},m.fapply=function(a,b){return m(a).dispatch("post",[void 0,b])},m.fcall=function(a){return m(a).dispatch("post",[void 0,Array.prototype.slice.call(arguments,1)])},m.fbind=function(a){var b=m(a),c=Array.prototype.slice.call(arguments,1);return function(){return b.dispatch("post",[void 0,c.concat(Array.prototype.slice.call(arguments)),this])}},m.passByCopy=function(a){return a},m.async=t,m.spawn=u,m.promised=v,m.Promise=w,w.cast=function(a){return m(a)},m.isPromise=x,m.isThenable=y,w.prototype.inspect=function(){return k(this).inspect()},w.prototype.isPending=function(){return"pending"===k(this).state},w.prototype.isFulfilled=function(){return"fulfilled"===k(this).state},w.prototype.isRejected=function(){return"rejected"===k(this).state},w.prototype.toString=function(){return"[object Promise]"},w.prototype.then=function(a,b,c){function e(b){try{return"function"==typeof a?a(b):b}catch(c){return n(c)}}function f(a){if("function"==typeof b){d(a,h);try{return b(a)}catch(c){return n(c)}}return n(a)}function g(a){return"function"==typeof c?c(a):a}var h=this,i=o(),j=!1;return N(function(){k(h).dispatch(function(a){j||(j=!0,i.resolve(e(a)))},"then",[function(a){j||(j=!0,i.resolve(f(a)))}])}),k(this).dispatch(void 0,"then",[void 0,function(a){var b,c=!1;try{b=g(a)}catch(d){if(c=!0,!m.onerror)throw d;m.onerror(d)}c||i.notify(b)}]),i.promise},w.prototype.thenResolve=function(a){return this.then(function(){return a})},w.prototype.thenReject=function(a){return this.then(function(){throw a})},w.prototype.all=function(){return this.then(m.all)},w.prototype.allSettled=function(){return this.then(function(a){return p(a.map(function(a){function b(){return a.inspect()}return a=m(a),a.then(b,b)}))})},w.prototype["catch"]=function(a){return this.then(void 0,a)},w.prototype.progress=function(a){return this.then(void 0,void 0,a)},w.prototype["finally"]=function(a){return a=m(a),this.then(function(b){return a.fcall().then(function(){return b})},function(b){return a.fcall().then(function(){throw b})})},w.prototype.done=function(a,b,c){var e=function(a){N(function(){if(d(a,f),!m.onerror)throw a;m.onerror(a)})},f=a||b||c?this.then(a,b,c):this;"object"==typeof process&&process&&process.domain&&(e=process.domain.bind(e)),f.then(void 0,e)},w.prototype.dispatch=function(a,b){var c=this,d=o();return N(function(){k(c).dispatch(d.resolve,a,b)}),d.promise},w.prototype.get=function(a){return this.dispatch("get",[a])},w.prototype.post=function(a,b,c){return this.dispatch("post",[a,b,c])},w.prototype.invoke=function(a){return this.dispatch("post",[a,Array.prototype.slice.call(arguments,1)])},w.prototype.fapply=function(a){return this.dispatch("post",[void 0,a])},w.prototype.fcall=function(){return this.dispatch("post",[void 0,Array.prototype.slice.call(arguments)])},w.prototype.keys=function(){return this.dispatch("keys",[])},w.prototype.spread=function(a,b,c){return this.all().then(function(b){return a.apply(void 0,b)},b,c)},w.prototype.timeout=function(a,b){var c=o(),d=setTimeout(function(){c.reject(new Error(b||"Timed out after "+a+" ms"))},a);return this.then(function(a){clearTimeout(d),c.resolve(a)},function(a){clearTimeout(d),c.reject(a)},c.notify),c.promise},w.prototype.delay=function(a){return this.then(function(b){var c=o();return setTimeout(function(){c.resolve(b)},a),c.promise})},w.prototype.nodeify=function(a){return a?(this.then(function(b){N(function(){a(null,b)})},function(b){N(function(){a(b)})}),void 0):this},z.prototype.resolve=function(a){var b=k(this);b.messages&&b.become(m(a))},z.prototype.reject=function(a){var b=k(this);b.messages&&b.become(n(a))},z.prototype.notify=function(a){var b=k(this);b.messages&&b.notify(a)},A.prototype.state="fulfilled",A.prototype.inspect=function(){return{state:"fulfilled",value:this.value}},A.prototype.dispatch=function(a,b,c){var d;if("then"===b||"get"===b||"post"===b||"keys"===b)try{d=this[b].apply(this,c)}catch(e){d=n(e)}else{var f=new Error("Fulfilled promises do not support the "+b+" operator");d=n(f)}a&&a(d)},A.prototype.then=function(){return this.value},A.prototype.get=function(a){return this.value[a]},A.prototype.post=function(a,b,c){return null===a||void 0===a?this.value.apply(c,b):this.value[a].apply(this.value,b)},A.prototype.keys=function(){return Object.keys(this.value)},B.prototype.state="rejected",B.prototype.inspect=function(){return{state:"rejected",reason:this.reason}},B.prototype.dispatch=function(a,b,c){var d;d="then"===b?this.then(a,c[0]):this,a&&a(d)},B.prototype.then=function(a,b){return b&&I(this),b?b(this.reason):this},C.prototype.state="pending",C.prototype.inspect=function(){return{state:"pending"}},C.prototype.dispatch=function(a,b,c){this.messages.push([a,b,c]),"then"===b&&c[1]&&this.progressListeners.push(c[1])},C.prototype.become=function(a){this.became=T;var b=k(a);this.became=b,Q.set(a,b),this.promise=void 0,this.messages.forEach(function(b){N(function(){var c=k(a);c.dispatch.apply(c,b)})}),this.messages=void 0,this.progressListeners=void 0},C.prototype.notify=function(a){this.progressListeners.forEach(function(b){N(function(){b(a)})})},D.prototype.cast=function(){if(!this.became){var a=o(),b=this.thenable;N(function(){try{b.then(a.resolve,a.reject,a.notify)}catch(c){a.reject(c)}}),this.became=k(a.promise)}return this.became},D.prototype.dispatch=function(a,b,c){this.cast().dispatch(a,b,c)};var V=[],W=[],X=!1,Y=!0;m.resetUnhandledRejections=G,m.getUnhandledReasons=function(){return V.slice()},m.stopUnhandledRejectionTracking=function(){G(),"undefined"!=typeof process&&process.on&&process.removeListener("exit",F),Y=!1},G();var Z=i();m.nextTick=j(N,"nextTick","asap package"),m.resolve=j(m,"resolve","Q"),m.fulfill=j(m,"fulfill","Q"),m.isPromiseAlike=j(y,"isPromiseAlike","isThenable"),m.when=j(function(a,b,c,d){return m(a).then(b,c,d)},"when","Q(value).then"),m.fail=j(function(a,b){return m(a)["catch"](b)},"Q.fail","Q(value).catch"),m.fin=j(function(a,b){return m(a)["finally"](b)},"Q.fin","Q(value).finally"),m.progress=j(function(a,b){return m(a).progress(b)},"Q.progress","Q(value).progress"),m.thenResolve=j(function(a,b){return m(a).thenResolve(b)},"thenResolve","Q(value).thenResolve"),m.thenReject=j(function(a,b){return m(a).thenResolve(b)},"thenResolve","Q(value).thenResolve"),m.isPending=j(function(a){return m(a).isPending()},"isPending","Q(value).isPending"),m.isFulfilled=j(function(a){return m(a).isFulfilled()},"isFulfilled","Q(value).isFulfilled"),m.isRejected=j(function(a){return m(a).isRejected()},"isRejected","Q(value).isRejected"),m.master=j(function(a){return a},"master","no longer necessary"),m.makePromise=function(){throw new Error("makePromise is no longer supported")},m.dispatch=j(function(a,b,c){return m(a).dispatch(b,c)},"dispatch","Q(value).dispatch"),m.get=j(function(a,b){return m(a).get(b)},"get","Q(value).get"),m.keys=j(function(a){return m(a).keys()},"keys","Q(value).keys"),m.post=j(function(a,b,c){return m(a).post(b,c)},"post","Q(value).post"),m.mapply=j(function(a,b,c){return m(a).post(b,c)},"post","Q(value).post"),m.send=j(function(a,b){return m(a).post(b,Array.prototype.slice.call(arguments,2))},"send","Q(value).invoke"),m.mcall=j(function(a,b){return m(a).post(b,Array.prototype.slice.call(arguments,2))},"mcall","Q(value).invoke"),m.set=function(){throw new Error("Q.set no longer supported")},m["delete"]=function(){throw new Error("Q.delete no longer supported")},m.nearer=j(function(a){return m.isPromise(a)&&a.isFulfilled()?a.inspect().value:a},"nearer","inspect().value (+nuances)"),w.prototype.fail=j(function(a){return this["catch"](a)},"fail","catch"),w.prototype.fin=j(function(a){return this["finally"](a)},"fin","finally"),w.prototype.set=function(){throw new Error("Promise set no longer supported")},w.prototype["delete"]=function(){throw new Error("Promise delete no longer supported")},w.prototype.mapply=j(function(a,b,c){return this.dispatch("post",[a,b,c])},"mapply","post"),w.prototype.fbind=j(function(){return m.fbind.apply(m,[this].concat(Array.prototype.slice.call(arguments)))},"promise.fbind","Q.fbind"),w.prototype.send=j(function(){return this.dispatch("post",[name,Array.prototype.slice.call(arguments,1)])},"send","invoke"),w.prototype.mcall=j(function(){return this.dispatch("post",[name,Array.prototype.slice.call(arguments,1)])},"mcall","invoke"),w.prototype.passByCopy=j(function(a){return a},"passByCopy","Q.passByCopy"),m.promise=j(w,"promise","Promise");var $=a("./node");!function(){for(var a in $)m[a]=$[a]}(),z.prototype.makeNodeResolver=j(function(){return $.makeNodeResolver(this.resolve)},"makeNodeResolver","q/node makeNodeResolver"),w.prototype.nfapply=j(function(a){return $.nfapply(this,a)},"nfapply","q/node nfapply"),w.prototype.nfcall=j(function(){return $.nfapply(this,Array.prototype.slice.call(arguments))},"nfcall","q/node nfcall"),w.prototype.nfbind=j(function(){return $.nfbind(this,Array.prototype.slice.call(arguments))},"nfbind","q/node nfbind"),m.nmapply=j($.nmapply,"nmapply","q/node nmapply");var _=function(a,b){return $.npost(this,a,b)};w.prototype.nmapply=j(_,"nmapply","q/node nmapply"),w.prototype.npost=j(_,"npost","q/node npost"),m.nsend=j($.ninvoke,"nsend","q/node ninvoke"),m.nmcall=j($.ninvoke,"nmcall","q/node ninvoke");var ab=function(a){return $.npost(this,a,Array.prototype.slice.call(arguments,1))};w.prototype.nsend=j(ab,"nsend","q/node ninvoke"),w.prototype.nmcall=j(ab,"nmcall","q/node ninvoke"),w.prototype.ninvoke=j(ab,"ninvoke","q/node ninvoke")},{"./node":1,asap:2,"weak-map":3}],5:[function(a){self.Q=a("../home/travis/build/kriskowal/q/q.js")},{"../home/travis/build/kriskowal/q/q.js":4}]},{},[5]);